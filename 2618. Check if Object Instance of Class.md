# Check if Object Instance of Class

## Problem Description

Write a function that checks if a given value is an instance of a given class or superclass. For this problem, an object is considered an instance of a given class if that object has access to that class's methods.

There are no constraints on the data types that can be passed to the function. For example, the value or the class could be undefined.

## Examples

### Example 1
```javascript
Input: func = () => checkIfInstanceOf(new Date(), Date)
Output: true
Explanation: The object returned by the Date constructor is, by definition, an instance of Date.
```

### Example 2
```javascript
Input: func = () => { class Animal {}; class Dog extends Animal {}; return checkIfInstanceOf(new Dog(), Animal); }
Output: true
Explanation: Dog is a subclass of Animal. Therefore, a Dog object is an instance of both Dog and Animal.
```

### Example 3
```javascript
Input: func = () => checkIfInstanceOf(Date, Date)
Output: false
Explanation: A date constructor cannot logically be an instance of itself.
```

### Example 4
```javascript
Input: func = () => checkIfInstanceOf(5, Number)
Output: true
Explanation: 5 is a Number. Note that the "instanceof" keyword would return false. However, it is still considered an instance of Number because it accesses the Number methods. For example "toFixed()".
```

## Solutions

### JavaScript Solution

```javascript
/**
 * @param {*} obj
 * @param {*} classFunction
 * @return {boolean}
 */
var checkIfInstanceOf = function(obj, classFunction) {
    // Handle edge cases
    if (obj === null || obj === undefined || classFunction === null || classFunction === undefined) {
        return false;
    }
    
    // Traverse the prototype chain
    let currentProto = Object.getPrototypeOf(obj);
    
    while (currentProto !== null) {
        if (currentProto === classFunction.prototype) {
            return true;
        }
        currentProto = Object.getPrototypeOf(currentProto);
    }
    
    return false;
};
```

### TypeScript Solution

```typescript
function checkIfInstanceOf(obj: any, classFunction: any): boolean {
    // Handle edge cases
    if (obj === null || obj === undefined || classFunction === null || classFunction === undefined) {
        return false;
    }
    
    // Traverse the prototype chain
    let currentProto = Object.getPrototypeOf(obj);
    
    while (currentProto !== null) {
        if (currentProto === classFunction.prototype) {
            return true;
        }
        currentProto = Object.getPrototypeOf(currentProto);
    }
    
    return false;
}
```

### Alternative Simple Solution (JavaScript)

```javascript
/**
 * @param {*} obj
 * @param {*} classFunction
 * @return {boolean}
 */
var checkIfInstanceOf = function(obj, classFunction) {
    if (obj === null || obj === undefined || classFunction === null || classFunction === undefined) {
        return false;
    }
    
    // Use try-catch in case classFunction is not a constructor
    try {
        return obj instanceof classFunction;
    } catch (e) {
        return false;
    }
};
```

## Approach

The solution works by traversing the prototype chain of the given object and checking if any prototype in the chain matches the prototype of the given class function.

### Key Steps:

1. **Edge Case Handling**: Check for `null` and `undefined` values for both the object and class function.

2. **Prototype Chain Traversal**: Use `Object.getPrototypeOf()` to traverse up the prototype chain.

3. **Prototype Comparison**: At each level, check if the current prototype matches the class function's prototype.

4. **Inheritance Support**: The solution automatically handles inheritance relationships by traversing the entire prototype chain.

## Key Features

- **Handles Inheritance**: Correctly identifies instances of parent classes through prototype chain traversal
- **Works with Primitives**: Unlike the regular `instanceof` operator, this solution correctly identifies primitive values as instances of their wrapper classes (e.g., `5` as instance of `Number`)
- **Robust Error Handling**: Safely handles edge cases like `null`, `undefined`, and non-constructor class functions

## Test Cases

```javascript
// Basic examples from problem
console.log(checkIfInstanceOf(new Date(), Date)); // true

class Animal {}
class Dog extends Animal {}
console.log(checkIfInstanceOf(new Dog(), Animal)); // true

console.log(checkIfInstanceOf(Date, Date)); // false
console.log(checkIfInstanceOf(5, Number)); // true

// Additional test cases
console.log(checkIfInstanceOf(null, Object)); // false
console.log(checkIfInstanceOf(undefined, Object)); // false
console.log(checkIfInstanceOf([], Array)); // true
console.log(checkIfInstanceOf({}, Object)); // true
console.log(checkIfInstanceOf("hello", String)); // true
```

## Complexity Analysis

- **Time Complexity**: O(n) where n is the depth of the prototype chain
- **Space Complexity**: O(1) as we only use constant extra space

## Notes

The main difference from JavaScript's built-in `instanceof` operator is that this solution correctly handles primitive values by checking if they can access the class's methods through the prototype chain, making it more aligned with the problem's definition of "instance".
